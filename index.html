<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/bb21bdf6ed.js"
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
  </head>
  <body>
    <h1 id="titolo">Firebase</h1>

    <div id="container" class="container-fluid">
      <div
        id="info-card"
        class="card col-xl-6 col-md-12 mx-auto shadow-sm p-2 bg-white rounded mb-1"
      >
        <div
          class="d-flex justify-content-between align-items-center"
          style="height: 30px; margin-top: 10px"
        >
          <div class="d-flex flex-column">
            <div
              class="rounded"
              style="
                background-color: royalblue;
                height: 20px;
                width: 50px;
                text-align: center;
              "
            >
              <h6 class="text-white font-weight-bold">
                <span style="font-size: small; font-weight: lighter">lun</span>
                9
              </h6>
            </div>
          </div>
          <div class="d-flex flex-column" style="font-size: smaller">
            <p class="m-0">
              Portogruaro...<i class="ml-1 fa-solid fa-car-side"></i>
            </p>

            <p>Tecnico generico</p>
          </div>

          <div
            class="d-flex flex-column font-italic font-weight-light"
            style="font-size: smaller; margin-top: 10px"
          >
            <p class="m-0">9:00-13:00</p>
            <p>14:00-18:00</p>
          </div>
          <p>
            <a
              class="btn btn-primary p-0"
              data-toggle="collapse"
              href="#collapseExample1"
              role="button"
              aria-expanded="false"
              aria-controls="collapseExample"
              style="height: 25px; width: 25px"
            >
              <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
            </a>
          </p>
        </div>
        <div class="collapse" id="collapseExample1">
          <div class="card card-body mt-2">
            <p>
              Anim pariatur cliche reprehenderit, enim eiusmod high life
              accusamus terry richardson ad squid. Nihil anim keffiyeh
              helvetica, craft beer labore wes anderson cred nesciunt sapiente
              ea proident.
            </p>
            <label for="">totale ore</label>
            <input type="text" style="width: 40px" />
          </div>
        </div>
      </div>
    </div>

    <!--     <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">info</th>
          <th scope="col">#</th>
          <th scope="col">data</th>
          <th scope="col">location</th>
          <th scope="col">attivit√†</th>
          <th scope="col">dalle</th>
          <th scope="col">alle</th>
          <th scope="col">dalle</th>
          <th scope="col">alle</th>
          <th scope="col">n.</th>
          <th scope="col">trasporto</th>
          <th scope="col">note</th>
          <th scope="col">tot</th>
          <th scope="col">Fede</th>

        </tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table> -->

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        get,
        set,
        onValue,
        child,
        update,
        remove,
      } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional

      const firebaseConfig = {
        apiKey: "AIzaSyDLJc4zQYsVpuXcn6ABioGPqwXO3Lf7Rh8",
        authDomain: "claps-a462f.firebaseapp.com",
        databaseURL:
          "https://claps-a462f-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "claps-a462f",
        storageBucket: "claps-a462f.appspot.com",
        messagingSenderId: "920842940003",
        appId: "1:920842940003:web:c50a01089213747eead256",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      (function () {
        const node = document.getElementById("info-card");
        for (var i = 0; i < 35; i++) {
          console.log(i)
          const clone = node.cloneNode(true);
          document.getElementById("container").appendChild(clone);
        }
        
        var table = document.getElementById("table");

        var titolo = document.getElementById("titolo");
        var body = document.getElementById("table-body");
        const readUser = ref(db, "jobInfo/");
        onValue(readUser, (snapshot) => {
          snapshot.forEach((element) => {
          });
          /*  while (body.lastElementChild) {
              body.removeChild(body.lastElementChild);
            } */
          /*  snapshot.forEach(emp => {
              let row = document.createElement('tr');
              const importOrder = ["info", "week_day", "date", "location", "activity", "dalle_am", "alle_am", "dalle_pm", "alle_pm", "quantity", "vehicle", "note", "total", "fede"];
              const sortByObject = importOrder.reduce((acc, key) => {
                          return {
                            ...acc,
                            [key]: emp.val()[key],
                          };
                        }, {});


              Object.values(sortByObject).forEach(text => {
                  let cell = document.createElement('td');
                  let textNode = document.createTextNode(text);
                  cell.appendChild(textNode);
                  row.appendChild(cell);
              })
              body.appendChild(row);
          }); */
        });
      })();
    </script>
    <script
      src="https://code.jquery.com/jquery-3.6.3.min.js"
      integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
      integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
